#:kivy 2.3.0

<AddUspengantar>:
    name_input: name_input
    keperluan_input: keperluan_input
    ktp_preview: ktp_preview
    kk_preview: kk_preview
    
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Label:
            text: 'FORM SURAT PENGANTAR'
            size_hint_y: None
            height: 50
            font_size: 24
        
        # Image preview and buttons
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 200
            padding: [0, 10]
            spacing: 10
            
            AsyncImage:
                id: ktp_preview
                source: ''
                allow_stretch: True
                keep_ratio: True
                size_hint_y: None
                height: 150
                canvas.before:
                    Color:
                        rgba: 0.9, 0.9, 0.9, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
            
            BoxLayout:
                size_hint_y: None
                height: 40
                spacing: 10
                
                Button:
                    text: 'Pilih Gambar'
                    size_hint_x: 0.5
                    on_press: root.choose_ktp_image()
                
                Button:
                    text: 'Hapus Gambar'
                    size_hint_x: 0.5
                    on_press: root.clear_image()
        
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 200
            padding: [0, 10]
            spacing: 10
            
            AsyncImage:
                id: kk_preview
                source: ''
                allow_stretch: True
                keep_ratio: True
                size_hint_y: None
                height: 150
                canvas.before:
                    Color:
                        rgba: 0.9, 0.9, 0.9, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
            
            BoxLayout:
                size_hint_y: None
                height: 40
                spacing: 10
                
                Button:
                    text: 'Pilih Gambar'
                    size_hint_x: 0.5
                    on_press: root.choose_kk_image()
                
                Button:
                    text: 'Hapus Gambar'
                    size_hint_x: 0.5
                    on_press: root.clear_image()
        
        TextInput:
            id: name_input
            hint_text: 'Nama Lengkap'
            size_hint_y: None
            height: 40
            multiline: False
        
        TextInput:
            id: keperluan_input
            hint_text: 'keperluan anda'
            size_hint_y: None
            height: 40
            multiline: False
        
        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10
            
            Button:
                text: 'Batal'
                on_press:
                    app.root.current = 'usurat'
            
            Button:
                text: 'Tambah'
                on_press: root.add_spengantar()